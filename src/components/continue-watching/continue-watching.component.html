@if (suggestions() && suggestions()!.length > 0) {
<div class="mb-8">
  <h2 class="text-2xl font-bold text-white mb-4">Continue Watching</h2>
  <div class="relative group/slider">
    @if (canScrollLeft()) {
    <button
      (click)="scroll('left')"
      aria-label="Scroll left"
      class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 z-10 bg-black/60 backdrop-blur-sm rounded-full w-12 h-12 hidden md:flex items-center justify-center text-white hover:bg-black/80 transition-opacity opacity-0 group-hover/slider:opacity-100 focus:opacity-100 focus:outline-none"
    >
      <span class="material-symbols-outlined">chevron_left</span>
    </button>
    }

    <div
      #scrollContainer
      (scroll)="checkScroll()"
      (mousedown)="onMouseDown($event)"
      (mouseleave)="onMouseLeave()"
      (mouseup)="onMouseUp()"
      (mousemove)="onMouseMove($event)"
      class="flex overflow-x-auto space-x-4 sm:space-x-6 pb-24 -mb-24"
      [class.cursor-grabbing]="isGrabbing()"
      [class.select-none]="isGrabbing()"
      style="scrollbar-width: none; -ms-overflow-style: none"
    >
      @for (suggestion of suggestions()!; track suggestion.id +
      (suggestion.episode?.id ?? '')) { @let cardMedia =
      getCardMedia(suggestion);
      <div class="w-5/6 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 shrink-0">
        <app-video-card
          [media]="cardMedia"
          [genreMap]="genreMap()"
          [isPriority]="true"
          [showRemoveFromContinueWatching]="true"
          [progressMediaId]="
            suggestion.episode ? suggestion.episode.id : suggestion.id
          "
          (mediaClicked)="onMediaClicked(suggestion)"
          (removeFromContinueWatching)="onRemove(suggestion)"
        ></app-video-card>
      </div>
      }
    </div>

    @if (canScrollRight()) {
    <button
      (click)="scroll('right')"
      aria-label="Scroll right"
      class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 z-10 bg-black/60 backdrop-blur-sm rounded-full w-12 h-12 hidden md:flex items-center justify-center text-white hover:bg-black/80 transition-opacity opacity-0 group-hover/slider:opacity-100 focus:opacity-100 focus:outline-none"
    >
      <span class="material-symbols-outlined">chevron_right</span>
    </button>
    }
  </div>
</div>
}
