<aside class="w-full h-full bg-zinc-900 border-r border-zinc-800 flex flex-col overflow-y-auto overflow-x-hidden">
  <nav class="flex flex-col" [class.p-4]="!isMini()" [class.py-2]="isMini()">
    <a 
      href="#" 
      (click)="$event.preventDefault(); onHomeClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Home'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <span class="material-symbols-outlined shrink-0" [class.material-symbols-filled]="activeItem() === 'Home'">home</span>
      <span [class.font-semibold]="activeItem() === 'Home' && !isMini()" [class.text-xs]="isMini()">Home</span>
    </a>
    <a 
      href="#"
      (click)="$event.preventDefault(); onDiscoverClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Discover'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <span class="material-symbols-outlined shrink-0" [class.material-symbols-filled]="activeItem() === 'Discover'">explore</span>
      <span [class.font-semibold]="activeItem() === 'Discover' && !isMini()" [class.text-xs]="isMini()">Discover</span>
    </a>
    <a 
      href="#"
      (click)="$event.preventDefault(); onCalendarClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Calendar'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <span class="material-symbols-outlined shrink-0" [class.material-symbols-filled]="activeItem() === 'Calendar'">calendar_today</span>
      <span [class.font-semibold]="activeItem() === 'Calendar' && !isMini()" [class.text-xs]="isMini()">Calendar</span>
    </a>
     <a 
      href="#"
      (click)="$event.preventDefault(); onChannelsClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Channels'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <span class="material-symbols-outlined shrink-0" [class.material-symbols-filled]="activeItem() === 'Channels'">live_tv</span>
      <span [class.font-semibold]="activeItem() === 'Channels' && !isMini()" [class.text-xs]="isMini()">Channels</span>
    </a>
    <a 
      href="#"
      (click)="$event.preventDefault(); onCollectionsClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Collections'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <span class="material-symbols-outlined shrink-0" [class.material-symbols-filled]="activeItem() === 'Collections'">video_library</span>
      <span [class.font-semibold]="activeItem() === 'Collections' && !isMini()" [class.text-xs]="isMini()">Collections</span>
    </a>

    <div class="border-t border-zinc-700 my-2" [class.hidden]="isMini()"></div>
    
    @if (!isMini()) {
      <h3 class="px-3 py-2 text-sm font-semibold text-zinc-400 tracking-wider">You</h3>
    }
    <a 
      href="#"
      (click)="$event.preventDefault(); onSubscriptionsClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Subscriptions'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <span class="material-symbols-outlined shrink-0" [class.material-symbols-filled]="activeItem() === 'Subscriptions'">subscriptions</span>
      <span [class.font-semibold]="activeItem() === 'Subscriptions' && !isMini()" [class.text-xs]="isMini()">Subscriptions</span>
    </a>

    <a 
      href="#"
      (click)="$event.preventDefault(); onHistoryClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'History'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <span class="material-symbols-outlined shrink-0" [class.material-symbols-filled]="activeItem() === 'History'">history</span>
      <span [class.font-semibold]="activeItem() === 'History' && !isMini()" [class.text-xs]="isMini()">History</span>
    </a>
    
    <a 
      href="#"
      (click)="$event.preventDefault(); onPlaylistsClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Playlists'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <span class="material-symbols-outlined shrink-0" [class.material-symbols-filled]="activeItem() === 'Playlists'">playlist_play</span>
      <span [class.font-semibold]="activeItem() === 'Playlists' && !isMini()" [class.text-xs]="isMini()">Playlists</span>
    </a>
<a 
      href="#"
      (click)="$event.preventDefault(); onWatchlistClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Watchlist'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <span class="material-symbols-outlined shrink-0" [class.material-symbols-filled]="activeItem() === 'Watchlist'">watch_later</span>
      <span [class.font-semibold]="activeItem() === 'Watchlist' && !isMini()" [class.text-xs]="isMini()">Watchlist</span>
    </a>
    @if (!isMini() && subscriptions().length > 0) {
      <div class="border-t border-zinc-700 my-2"></div>
      <h3 class="px-3 py-2 text-sm font-semibold text-zinc-400 tracking-wider">Subscriptions</h3>
      @for(sub of subscriptions(); track sub.id) {
        <a 
          href="#" 
          (click)="$event.preventDefault(); onSubscriptionClick(sub)"
          class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800 px-3 py-2"
          [class.bg-zinc-700]="activeItem() === sub.name">
          <div class="h-6 w-6 rounded-full bg-zinc-700 flex items-center justify-center shrink-0 mr-4 relative">
            @if (sub.logo_path) {
              <img [ngSrc]="'https://image.tmdb.org/t/p/h30' + sub.logo_path" [alt]="sub.name + ' Logo'" fill class="p-1 object-contain">
            } @else {
              <span class="text-xs font-bold">{{ sub.name.charAt(0) }}</span>
            }
          </div>
          <span class="font-medium text-sm truncate">{{ sub.name }}</span>
        </a>
      }
    }
  </nav>
</aside>