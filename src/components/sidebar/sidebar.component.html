<aside class="w-full h-full bg-zinc-900 border-r border-zinc-800 flex flex-col overflow-y-auto overflow-x-hidden">
  <nav class="flex flex-col" [class.p-4]="!isMini()" [class.py-2]="isMini()">
    <a 
      href="#" 
      (click)="$event.preventDefault(); onHomeClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Home'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <svg class="h-6 w-6 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
      </svg>
      <span [class.font-semibold]="activeItem() === 'Home' && !isMini()" [class.text-xs]="isMini()">Home</span>
    </a>
    <a 
      href="#"
      (click)="$event.preventDefault(); onDiscoverClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Discover'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0" fill="currentColor" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M20 3H4a3 3 0 00-2.587 1.485l-.001.003-.01.015-.072.133-.037.077a3.046 3.046 0 00-.264.869l-.002.011-.011.1-.005.063-.005.06A3.004 3.004 0 001 6v12a3 3 0 003 3h16a3 3 0 003-3V6a3 3 0 00-3-3ZM4 5h1.986l2 2-2 2H3v-.686L4.313 7 3.04 5.725A1 1 0 014 5Zm13.315 2-2-2h3.67l2 2-2 2h-3.67l2-2Zm-6.5 0L8.814 5h3.672l2 2-2 2H8.815l2-2ZM3 18v-7h18v7a1 1 0 01-1 1H4a1 1 0 01-1-1Z"></path></svg>
      <span [class.font-semibold]="activeItem() === 'Discover' && !isMini()" [class.text-xs]="isMini()">Discover</span>
    </a>
    <a 
      href="#"
      (click)="$event.preventDefault(); onCalendarClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Calendar'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
      </svg>
      <span [class.font-semibold]="activeItem() === 'Calendar' && !isMini()" [class.text-xs]="isMini()">Calendar</span>
    </a>
     <a 
      href="#"
      (click)="$event.preventDefault(); onChannelsClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Channels'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
      </svg>
      <span [class.font-semibold]="activeItem() === 'Channels' && !isMini()" [class.text-xs]="isMini()">Channels</span>
    </a>
    <a 
      href="#"
      (click)="$event.preventDefault(); onCollectionsClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Collections'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
      </svg>
      <span [class.font-semibold]="activeItem() === 'Collections' && !isMini()" [class.text-xs]="isMini()">Collections</span>
    </a>

    <div class="border-t border-zinc-700 my-2" [class.hidden]="isMini()"></div>
    
    @if (!isMini()) {
      <h3 class="px-3 py-2 text-sm font-semibold text-zinc-400 tracking-wider">You</h3>
    }
    <a 
      href="#"
      (click)="$event.preventDefault(); onSubscriptionsClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Subscriptions'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3h3m-3 4h3m-3 4h3m-3 4h3" />
      </svg>
      <span [class.font-semibold]="activeItem() === 'Subscriptions' && !isMini()" [class.text-xs]="isMini()">Subscriptions</span>
    </a>

    <a 
      href="#"
      (click)="$event.preventDefault(); onHistoryClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'History'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <svg class="h-6 w-6 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
      <span [class.font-semibold]="activeItem() === 'History' && !isMini()" [class.text-xs]="isMini()">History</span>
    </a>
    
    <a 
      href="#"
      (click)="$event.preventDefault(); onPlaylistsClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Playlists'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <svg class="h-6 w-6 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 10h16M4 14h16M4 18h16" />
      </svg>
      <span [class.font-semibold]="activeItem() === 'Playlists' && !isMini()" [class.text-xs]="isMini()">Playlists</span>
    </a>
<a 
      href="#"
      (click)="$event.preventDefault(); onWatchlistClick()"
      class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800"
      [class.bg-zinc-700]="activeItem() === 'Watchlist'"
      [class.flex-row]="!isMini()" [class.space-x-4]="!isMini()" [class.px-3]="!isMini()" [class.py-2]="!isMini()"
      [class.flex-col]="isMini()" [class.justify-center]="isMini()" [class.space-y-1]="isMini()" [class.py-3]="isMini()">
      <svg class="h-6 w-6 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
      <span [class.font-semibold]="activeItem() === 'Watchlist' && !isMini()" [class.text-xs]="isMini()">Watchlist</span>
    </a>
    @if (!isMini() && subscriptions().length > 0) {
      <div class="border-t border-zinc-700 my-2"></div>
      <h3 class="px-3 py-2 text-sm font-semibold text-zinc-400 tracking-wider">Subscriptions</h3>
      @for(sub of subscriptions(); track sub.id) {
        <a 
          href="#" 
          (click)="$event.preventDefault(); onSubscriptionClick(sub)"
          class="flex items-center rounded-lg text-white transition-colors duration-150 ease-in-out hover:bg-zinc-800 px-3 py-2"
          [class.bg-zinc-700]="activeItem() === sub.name">
          <div class="h-6 w-6 rounded-full bg-zinc-700 flex items-center justify-center shrink-0 mr-4 relative">
            @if (sub.logo_path) {
              <img [ngSrc]="'https://image.tmdb.org/t/p/h30' + sub.logo_path" [alt]="sub.name + ' Logo'" fill class="p-1 object-contain">
            } @else {
              <span class="text-xs font-bold">{{ sub.name.charAt(0) }}</span>
            }
          </div>
          <span class="font-medium text-sm truncate">{{ sub.name }}</span>
        </a>
      }
    }
  </nav>
</aside>
